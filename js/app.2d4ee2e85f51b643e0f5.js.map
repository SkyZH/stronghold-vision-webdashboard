{"version":3,"sources":["webpack:///js/app.2d4ee2e85f51b643e0f5.js","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/shared/index.ts","webpack:///./src/app/shared/api.service.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.routes.ts","webpack:///./src/app/home/index.ts","webpack:///./src/app/home/home.component.ts","webpack:///./src/app/shared/networktables.ts","webpack:///./src/app/home/home.component.html","webpack:///./src/app/home/home.component.scss"],"names":["webpackJsonp","0","module","exports","__webpack_require__","core_1","platform_browser_dynamic_1","http_1","app_component_1","app_routes_1","networktables_1","enableProdMode","bootstrap","AppComponent","HTTP_PROVIDERS","APP_ROUTER_PROVIDERS","NETWORKTABLES_SERVICE_PROVIDER","err","console","error","363","router_1","shared_1","api","this","url","__decorate","Component","selector","providers","ApiService","directives","ROUTER_DIRECTIVES","slice","template","styles","__metadata","_a","Object","417","__export","m","p","hasOwnProperty","418","title","Injectable","419","423","424","425","home_1","routes","path","component","HomeComponent","provideRouter","426","427","ntService","statuses","statusList","statusName","auto_enabled","manual_exposure","target_count","target_angle","robotdrive_status","_statuses","prototype","ngOnInit","_this","listener","globalListener","subscribe","k","v","t","isNew","split","shift","__update_status","_i","length","i","_st","status","info","push","ngOnDestroy","unsubscribe","NetworkTablesService","428","Observable_1","window","_globalListener","Observable","fromEventPattern","f","_wsListener","_robotListener","getInstance","instance","getValue","key","defaultValue","putValue","value","defineProperty","get","enumerable","configurable","provide","useFactory","430","431"],"mappings":"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","file":"js/app.2d4ee2e85f51b643e0f5.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(14);\r\n\tvar platform_browser_dynamic_1 = __webpack_require__(125);\r\n\tvar http_1 = __webpack_require__(342);\r\n\tvar app_component_1 = __webpack_require__(363);\r\n\tvar app_routes_1 = __webpack_require__(425);\r\n\tvar networktables_1 = __webpack_require__(428);\r\n\t// depending on the env mode, enable prod mode or add debugging modules\r\n\tif (true) {\r\n\t    core_1.enableProdMode();\r\n\t}\r\n\tplatform_browser_dynamic_1.bootstrap(app_component_1.AppComponent, [\r\n\t    // These are dependencies of our App\r\n\t    http_1.HTTP_PROVIDERS,\r\n\t    app_routes_1.APP_ROUTER_PROVIDERS,\r\n\t    networktables_1.NETWORKTABLES_SERVICE_PROVIDER\r\n\t])\r\n\t    .catch(function (err) { return console.error(err); });\r\n\n\n/***/ },\n\n/***/ 363:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(14);\r\n\tvar router_1 = __webpack_require__(364);\r\n\tvar shared_1 = __webpack_require__(417);\r\n\t__webpack_require__(419);\r\n\t/*\r\n\t * App Component\r\n\t * Top Level Component\r\n\t */\r\n\tvar AppComponent = (function () {\r\n\t    function AppComponent(api) {\r\n\t        this.api = api;\r\n\t        this.url = 'https://github.com/preboot/angular2-webpack';\r\n\t    }\r\n\t    AppComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'my-app',\r\n\t            providers: [shared_1.ApiService],\r\n\t            directives: router_1.ROUTER_DIRECTIVES.slice(),\r\n\t            template: __webpack_require__(423),\r\n\t            styles: [__webpack_require__(424)],\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [(typeof (_a = typeof shared_1.ApiService !== 'undefined' && shared_1.ApiService) === 'function' && _a) || Object])\r\n\t    ], AppComponent);\r\n\t    return AppComponent;\r\n\t    var _a;\r\n\t}());\r\n\texports.AppComponent = AppComponent;\r\n\n\n/***/ },\n\n/***/ 417:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(418));\r\n\n\n/***/ },\n\n/***/ 418:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(14);\r\n\tvar ApiService = (function () {\r\n\t    function ApiService() {\r\n\t        this.title = 'Zodiac 的视觉中枢';\r\n\t    }\r\n\t    ApiService = __decorate([\r\n\t        core_1.Injectable(), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], ApiService);\r\n\t    return ApiService;\r\n\t}());\r\n\texports.ApiService = ApiService;\r\n\n\n/***/ },\n\n/***/ 419:\n944,\n\n/***/ 423:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<header>\\r\\n  <nav class=\\\"navbar navbar-light\\\">\\r\\n    <a class=\\\"navbar-brand\\\">{{ api.title }}</a>\\r\\n  </nav>\\r\\n</header>\\r\\n<main>\\r\\n  <router-outlet></router-outlet>\\r\\n</main>\\r\\n\"\n\n/***/ },\n\n/***/ 424:\n/***/ function(module, exports) {\n\n\tmodule.exports = \":host{display:block}\\n\"\n\n/***/ },\n\n/***/ 425:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar router_1 = __webpack_require__(364);\r\n\tvar home_1 = __webpack_require__(426);\r\n\texports.routes = [\r\n\t    { path: '', component: home_1.HomeComponent }\r\n\t];\r\n\texports.APP_ROUTER_PROVIDERS = [\r\n\t    router_1.provideRouter(exports.routes)\r\n\t];\r\n\n\n/***/ },\n\n/***/ 426:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(427));\r\n\n\n/***/ },\n\n/***/ 427:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(14);\r\n\tvar networktables_1 = __webpack_require__(428);\r\n\tvar HomeComponent = (function () {\r\n\t    function HomeComponent(ntService) {\r\n\t        this.ntService = ntService;\r\n\t        this.statuses = [];\r\n\t        this.statusList = [\r\n\t            \"auto_enabled\",\r\n\t            \"manual_exposure\",\r\n\t            \"target_count\",\r\n\t            \"target_angle\",\r\n\t            \"robotdrive_status\"\r\n\t        ];\r\n\t        this.statusName = {\r\n\t            auto_enabled: \"自动瞄准\",\r\n\t            manual_exposure: \"手动曝光\",\r\n\t            target_count: \"目标\",\r\n\t            target_angle: \"角度\",\r\n\t            robotdrive_status: \"底盘\"\r\n\t        };\r\n\t        this._statuses = {};\r\n\t    }\r\n\t    HomeComponent.prototype.ngOnInit = function () {\r\n\t        var _this = this;\r\n\t        this.listener = this.ntService.globalListener.subscribe(function (_a) {\r\n\t            var k = _a.k, v = _a.v, isNew = _a.isNew;\r\n\t            var t = k.split('/');\r\n\t            t.shift();\r\n\t            if (t[0] == 'vision') {\r\n\t                _this._statuses[t[1]] = v;\r\n\t                _this.__update_status();\r\n\t            }\r\n\t        });\r\n\t    };\r\n\t    HomeComponent.prototype.__update_status = function () {\r\n\t        this.statuses = [];\r\n\t        for (var _i = 0, _a = this.statusList; _i < _a.length; _i++) {\r\n\t            var i = _a[_i];\r\n\t            if (i in this._statuses) {\r\n\t                var _st = {\r\n\t                    status: this._statuses[i],\r\n\t                    title: this.statusName[i],\r\n\t                    info: \"\"\r\n\t                };\r\n\t                switch (this._statuses[i]) {\r\n\t                    case 0:\r\n\t                        _st.info = \"已启用\";\r\n\t                        break;\r\n\t                    case 1:\r\n\t                        _st.info = \"正在调整\";\r\n\t                        break;\r\n\t                    case 2:\r\n\t                        _st.info = \"未启用\";\r\n\t                        break;\r\n\t                }\r\n\t                if (_st.status == \"target_count\") {\r\n\t                    _st.info = \"发现\" + this._statuses[\"target_count_number\"] + \"个目标\";\r\n\t                }\r\n\t                if (_st.status == \"target_angle\") {\r\n\t                    _st.info = \"距离\" + this._statuses[\"target_angle_number\"] + \"°\";\r\n\t                }\r\n\t                this.statuses.push(_st);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    HomeComponent.prototype.ngOnDestroy = function () {\r\n\t        this.listener.unsubscribe();\r\n\t    };\r\n\t    HomeComponent = __decorate([\r\n\t        core_1.Component({\r\n\t            selector: 'my-home',\r\n\t            template: __webpack_require__(430),\r\n\t            styles: [__webpack_require__(431)],\r\n\t            providers: [networktables_1.NETWORKTABLES_SERVICE_PROVIDER]\r\n\t        }), \r\n\t        __metadata('design:paramtypes', [(typeof (_a = typeof networktables_1.NetworkTablesService !== 'undefined' && networktables_1.NetworkTablesService) === 'function' && _a) || Object])\r\n\t    ], HomeComponent);\r\n\t    return HomeComponent;\r\n\t    var _a;\r\n\t}());\r\n\texports.HomeComponent = HomeComponent;\r\n\n\n/***/ },\n\n/***/ 428:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar core_1 = __webpack_require__(14);\r\n\tvar Observable_1 = __webpack_require__(47);\r\n\t__webpack_require__(429);\r\n\tvar NetworkTablesService = (function () {\r\n\t    function NetworkTablesService() {\r\n\t        var _this = this;\r\n\t        this.ntService = new (window[\"NetworkTables\"])(\"ws://pi-frc-9036.local:5802/networktables/ws\");\r\n\t        this._globalListener = Observable_1.Observable.fromEventPattern(function (f) { return _this.ntService[\"addGlobalListener\"](f, true); }, function (f) { return _this.ntService[\"removeGlobalListener\"](f); });\r\n\t        this._wsListener = Observable_1.Observable.fromEventPattern(function (f) { return _this.ntService[\"addWsConnectionListener\"](f, true); }, function (f) { return _this.ntService[\"removeWsConnectionListener\"](f); });\r\n\t        this._robotListener = Observable_1.Observable.fromEventPattern(function (f) { return _this.ntService[\"addRobotConnectionListener\"](f, true); }, function (f) { return _this.ntService[\"removeRobotConnectionListener\"](f); });\r\n\t    }\r\n\t    NetworkTablesService.getInstance = function () {\r\n\t        if (NetworkTablesService.instance === null) {\r\n\t            NetworkTablesService.instance = new NetworkTablesService;\r\n\t        }\r\n\t        return NetworkTablesService.instance;\r\n\t    };\r\n\t    NetworkTablesService.prototype.getValue = function (key, defaultValue) {\r\n\t        return this.ntService[\"getValue\"](key, defaultValue);\r\n\t    };\r\n\t    NetworkTablesService.prototype.putValue = function (key, value) {\r\n\t        return this.ntService[\"putValue\"](key, value);\r\n\t    };\r\n\t    Object.defineProperty(NetworkTablesService.prototype, \"globalListener\", {\r\n\t        get: function () {\r\n\t            return this._globalListener;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(NetworkTablesService.prototype, \"wsListener\", {\r\n\t        get: function () {\r\n\t            return this._wsListener;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(NetworkTablesService.prototype, \"robotListener\", {\r\n\t        get: function () {\r\n\t            return this._robotListener;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    NetworkTablesService.instance = null;\r\n\t    NetworkTablesService = __decorate([\r\n\t        core_1.Injectable(), \r\n\t        __metadata('design:paramtypes', [])\r\n\t    ], NetworkTablesService);\r\n\t    return NetworkTablesService;\r\n\t}());\r\n\texports.NetworkTablesService = NetworkTablesService;\r\n\texports.NETWORKTABLES_SERVICE_PROVIDER = core_1.provide(NetworkTablesService, {\r\n\t    useFactory: function () { return NetworkTablesService.getInstance(); }\r\n\t});\r\n\n\n/***/ },\n\n/***/ 430:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"conatiner-fluid m-t-2 m-x-1\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"card st-card-status\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          摄像头\\r\\n        </div>\\r\\n        <img class=\\\"st-camera\\\" src=\\\"/stream.mjpg\\\">\\r\\n        <div class=\\\"card-block\\\">\\r\\n          <div class=\\\"btn-group\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">切换到前部</button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">切换到后部</button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer bg-success\\\">\\r\\n          已连接 - 前部\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"card st-card-status\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          视觉处理中心 (前部)\\r\\n        </div>\\r\\n        <ul class=\\\"list-group list-group-flush\\\">\\r\\n          <li class=\\\"list-group-item\\\"\\r\\n              [ngClass]=\\\"{'bg-success': status.status == 0, 'bg-warning': status.status == 2, 'bg-info': status.status == 1}\\\"\\r\\n              *ngFor=\\\"let status of statuses\\\">\\r\\n            <i class=\\\"fa fa-check fa-fw\\\" *ngIf=\\\"status.status == 0\\\"></i>\\r\\n            <i class=\\\"fa fa-circle-o-notch fa-spin fa-fw\\\" *ngIf=\\\"status.status == 1\\\"></i>\\r\\n            <i class=\\\"fa fa-exclamation fa-fw\\\" *ngIf=\\\"status.status == 2\\\"></i>\\r\\n            <span>{{ status.title }}</span>\\r\\n            <strong>{{ status.info }}</strong>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n/***/ },\n\n/***/ 431:\n/***/ function(module, exports) {\n\n\tmodule.exports = \".st-camera{width:100%;height:auto}.st-card-status .list-group-item{border-bottom-width:0 !important;border-top-width:0 !important}\\n\"\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** js/app.2d4ee2e85f51b643e0f5.js\n **/","import { enableProdMode } from '@angular/core';\r\nimport { bootstrap } from '@angular/platform-browser-dynamic';\r\nimport { HTTP_PROVIDERS } from '@angular/http';\r\n\r\nimport { AppComponent } from './app/app.component';\r\nimport { APP_ROUTER_PROVIDERS } from './app/app.routes';\r\nimport { NETWORKTABLES_SERVICE_PROVIDER } from './app/shared/networktables';\r\n\r\n// depending on the env mode, enable prod mode or add debugging modules\r\nif (process.env.ENV === 'build') {\r\n  enableProdMode();\r\n}\r\n\r\nbootstrap(AppComponent, [\r\n    // These are dependencies of our App\r\n    HTTP_PROVIDERS,\r\n    APP_ROUTER_PROVIDERS,\r\n    NETWORKTABLES_SERVICE_PROVIDER\r\n  ])\r\n  .catch(err => console.error(err));\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/main.ts\n **/","import { Component } from '@angular/core';\r\nimport { ROUTER_DIRECTIVES } from '@angular/router';\r\n\r\nimport { ApiService } from './shared';\r\n\r\nimport '../style/app.scss';\r\n\r\n/*\r\n * App Component\r\n * Top Level Component\r\n */\r\n@Component({\r\n  selector: 'my-app', // <my-app></my-app>\r\n  providers: [ApiService],\r\n  directives: [...ROUTER_DIRECTIVES],\r\n  template: require('./app.component.html'),\r\n  styles: [require('./app.component.scss')],\r\n})\r\nexport class AppComponent {\r\n  url = 'https://github.com/preboot/angular2-webpack';\r\n\r\n  constructor(private api: ApiService) {\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/app.component.ts\n **/","export * from './api.service';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/shared/index.ts\n **/","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n  title = 'Zodiac 的视觉中枢';\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/shared/api.service.ts\n **/","module.exports = \"<header>\\r\\n  <nav class=\\\"navbar navbar-light\\\">\\r\\n    <a class=\\\"navbar-brand\\\">{{ api.title }}</a>\\r\\n  </nav>\\r\\n</header>\\r\\n<main>\\r\\n  <router-outlet></router-outlet>\\r\\n</main>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.component.html\n ** module id = 423\n ** module chunks = 0\n **/","module.exports = \":host{display:block}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/app.component.scss\n ** module id = 424\n ** module chunks = 0\n **/","import { provideRouter, RouterConfig } from '@angular/router';\r\n\r\nimport { HomeComponent } from './home';\r\n\r\nexport const routes: RouterConfig = [\r\n  { path: '', component: HomeComponent }\r\n];\r\n\r\nexport const APP_ROUTER_PROVIDERS = [\r\n  provideRouter(routes)\r\n];\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/app.routes.ts\n **/","export * from './home.component';\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/home/index.ts\n **/","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { NETWORKTABLES_SERVICE_PROVIDER, NetworkTablesService } from '../shared/networktables';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\n@Component({\r\n  selector: 'my-home',\r\n  template: require('./home.component.html'),\r\n  styles: [require('./home.component.scss')],\r\n  providers: [NETWORKTABLES_SERVICE_PROVIDER]\r\n})\r\nexport class HomeComponent implements OnInit, OnDestroy {\r\n  private statuses: any;\r\n  private statusList: any;\r\n  private statusName: {};\r\n  private _statuses: {};\r\n\r\n  constructor(\r\n    private ntService: NetworkTablesService\r\n  ) {\r\n    this.statuses = [];\r\n    this.statusList = [\r\n      \"auto_enabled\",\r\n      \"manual_exposure\",\r\n      \"target_count\",\r\n      \"target_angle\",\r\n      \"robotdrive_status\"\r\n    ]\r\n    this.statusName = {\r\n      auto_enabled: \"自动瞄准\",\r\n      manual_exposure: \"手动曝光\",\r\n      target_count: \"目标\",\r\n      target_angle: \"角度\",\r\n      robotdrive_status: \"底盘\"\r\n    }\r\n    this._statuses = {}\r\n  }\r\n\r\n  private listener: any;\r\n\r\n  ngOnInit() {\r\n    this.listener = this.ntService.globalListener.subscribe(({k, v, isNew}) => {\r\n      let t = k.split('/'); t.shift();\r\n      if (t[0] == 'vision') {\r\n        this._statuses[t[1]] = v;\r\n        this.__update_status();\r\n      }\r\n    });\r\n  }\r\n\r\n  private __update_status() {\r\n    this.statuses = [];\r\n    for (let i of this.statusList) {\r\n      if (i in this._statuses) {\r\n        let _st = {\r\n          status: this._statuses[i],\r\n          title: this.statusName[i],\r\n          info: \"\"\r\n        }\r\n        switch(this._statuses[i]) {\r\n          case 0:\r\n            _st.info = \"已启用\";\r\n            break;\r\n          case 1:\r\n            _st.info = \"正在调整\";\r\n            break;\r\n          case 2:\r\n            _st.info = \"未启用\";\r\n            break;\r\n        }\r\n        if (_st.status == \"target_count\") {\r\n          _st.info = \"发现\" + this._statuses[\"target_count_number\"] + \"个目标\";\r\n        }\r\n        if (_st.status == \"target_angle\") {\r\n          _st.info = \"距离\" + this._statuses[\"target_angle_number\"] + \"°\";\r\n        }\r\n        this.statuses.push(_st);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.listener.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/home/home.component.ts\n **/","import { Injectable, provide } from '@angular/core';\r\nimport { Http, Response, Headers } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nimport '../../../vendor/networktables';\r\n\r\n@Injectable()\r\nexport class NetworkTablesService {\r\n  private static instance: any = null;\r\n  public static getInstance(): any {\r\n    if (NetworkTablesService.instance === null) {\r\n       NetworkTablesService.instance = new NetworkTablesService;\r\n    }\r\n    return NetworkTablesService.instance;\r\n  }\r\n\r\n  private ntService: any;\r\n  private isConnected: boolean;\r\n\r\n  constructor(\r\n  ) {\r\n    this.ntService = new (window[\"NetworkTables\"])(\"ws://pi-frc-9036.local:5802/networktables/ws\")\r\n    this._globalListener = Observable.fromEventPattern(\r\n      f => this.ntService[\"addGlobalListener\"](f, true),\r\n      f => this.ntService[\"removeGlobalListener\"](f)\r\n    );\r\n    this._wsListener = Observable.fromEventPattern(\r\n      f => this.ntService[\"addWsConnectionListener\"](f, true),\r\n      f => this.ntService[\"removeWsConnectionListener\"](f)\r\n    );\r\n    this._robotListener = Observable.fromEventPattern(\r\n      f => this.ntService[\"addRobotConnectionListener\"](f, true),\r\n      f => this.ntService[\"removeRobotConnectionListener\"](f)\r\n    );\r\n  }\r\n\r\n  private _globalListener: any;\r\n  private _wsListener: any;\r\n  private _robotListener: any;\r\n\r\n  public getValue(key, defaultValue): any {\r\n    return this.ntService[\"getValue\"](key, defaultValue);\r\n  }\r\n\r\n  public putValue(key, value): any {\r\n    return this.ntService[\"putValue\"](key, value);\r\n  }\r\n\r\n  get globalListener(): Observable<any> {\r\n    return this._globalListener;\r\n  }\r\n\r\n  get wsListener(): Observable<any> {\r\n    return this._wsListener;\r\n  }\r\n\r\n  get robotListener(): Observable<any> {\r\n    return this._robotListener;\r\n  }\r\n}\r\n\r\nexport const NETWORKTABLES_SERVICE_PROVIDER = provide(NetworkTablesService, {\r\n  useFactory: (): NetworkTablesService => NetworkTablesService.getInstance()\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/angular2-template-loader!./~/tslint-loader!./src/app/shared/networktables.ts\n **/","module.exports = \"<div class=\\\"conatiner-fluid m-t-2 m-x-1\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"card st-card-status\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          摄像头\\r\\n        </div>\\r\\n        <img class=\\\"st-camera\\\" src=\\\"/stream.mjpg\\\">\\r\\n        <div class=\\\"card-block\\\">\\r\\n          <div class=\\\"btn-group\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">切换到前部</button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\">切换到后部</button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer bg-success\\\">\\r\\n          已连接 - 前部\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n      <div class=\\\"card st-card-status\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n          视觉处理中心 (前部)\\r\\n        </div>\\r\\n        <ul class=\\\"list-group list-group-flush\\\">\\r\\n          <li class=\\\"list-group-item\\\"\\r\\n              [ngClass]=\\\"{'bg-success': status.status == 0, 'bg-warning': status.status == 2, 'bg-info': status.status == 1}\\\"\\r\\n              *ngFor=\\\"let status of statuses\\\">\\r\\n            <i class=\\\"fa fa-check fa-fw\\\" *ngIf=\\\"status.status == 0\\\"></i>\\r\\n            <i class=\\\"fa fa-circle-o-notch fa-spin fa-fw\\\" *ngIf=\\\"status.status == 1\\\"></i>\\r\\n            <i class=\\\"fa fa-exclamation fa-fw\\\" *ngIf=\\\"status.status == 2\\\"></i>\\r\\n            <span>{{ status.title }}</span>\\r\\n            <strong>{{ status.info }}</strong>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/home/home.component.html\n ** module id = 430\n ** module chunks = 0\n **/","module.exports = \".st-camera{width:100%;height:auto}.st-card-status .list-group-item{border-bottom-width:0 !important;border-top-width:0 !important}\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app/home/home.component.scss\n ** module id = 431\n ** module chunks = 0\n **/"],"sourceRoot":""}