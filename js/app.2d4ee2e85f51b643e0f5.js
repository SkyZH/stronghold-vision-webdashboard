webpackJsonp([0],{0:function(t,e,n){"use strict";var r=n(14),s=n(125),a=n(342),i=n(363),o=n(425),u=n(428);r.enableProdMode(),s.bootstrap(i.AppComponent,[a.HTTP_PROVIDERS,o.APP_ROUTER_PROVIDERS,u.NETWORKTABLES_SERVICE_PROVIDER])["catch"](function(t){return console.error(t)})},363:function(t,e,n){"use strict";var r=n(14),s=n(364),a=n(417);n(419);var i=function(){function t(t){this.api=t,this.url="https://github.com/preboot/angular2-webpack"}return t=__decorate([r.Component({selector:"my-app",providers:[a.ApiService],directives:s.ROUTER_DIRECTIVES.slice(),template:n(423),styles:[n(424)]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.ApiService&&a.ApiService)&&e||Object])],t);var e}();e.AppComponent=i},417:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(418))},418:function(t,e,n){"use strict";var r=n(14),s=function(){function t(){this.title="Zodiac 的视觉中枢"}return t=__decorate([r.Injectable(),__metadata("design:paramtypes",[])],t)}();e.ApiService=s},419:944,423:function(t,e){t.exports='<header>\r\n  <nav class="navbar navbar-light">\r\n    <a class="navbar-brand">{{ api.title }}</a>\r\n  </nav>\r\n</header>\r\n<main>\r\n  <router-outlet></router-outlet>\r\n</main>\r\n'},424:function(t,e){t.exports=":host{display:block}\n"},425:function(t,e,n){"use strict";var r=n(364),s=n(426);e.routes=[{path:"",component:s.HomeComponent}],e.APP_ROUTER_PROVIDERS=[r.provideRouter(e.routes)]},426:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(427))},427:function(t,e,n){"use strict";var r=n(14),s=n(428),a=function(){function t(t){this.ntService=t,this.statuses=[],this.statusList=["auto_enabled","manual_exposure","target_count","target_angle","robotdrive_status"],this.statusName={auto_enabled:"自动瞄准",manual_exposure:"手动曝光",target_count:"目标",target_angle:"角度",robotdrive_status:"底盘"},this._statuses={}}return t.prototype.ngOnInit=function(){var t=this;this.listener=this.ntService.globalListener.subscribe(function(e){var n=e.k,r=e.v,s=(e.isNew,n.split("/"));s.shift(),"vision"==s[0]&&(t._statuses[s[1]]=r,t.__update_status())})},t.prototype.__update_status=function(){this.statuses=[];for(var t=0,e=this.statusList;t<e.length;t++){var n=e[t];if(n in this._statuses){var r={status:this._statuses[n],title:this.statusName[n],info:""};switch(this._statuses[n]){case 0:r.info="已启用";break;case 1:r.info="正在调整";break;case 2:r.info="未启用"}"target_count"==r.status&&(r.info="发现"+this._statuses.target_count_number+"个目标"),"target_angle"==r.status&&(r.info="距离"+this._statuses.target_angle_number+"°"),this.statuses.push(r)}}},t.prototype.ngOnDestroy=function(){this.listener.unsubscribe()},t=__decorate([r.Component({selector:"my-home",template:n(430),styles:[n(431)],providers:[s.NETWORKTABLES_SERVICE_PROVIDER]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.NetworkTablesService&&s.NetworkTablesService)&&e||Object])],t);var e}();e.HomeComponent=a},428:function(t,e,n){"use strict";var r=n(14),s=n(47);n(429);var a=function(){function t(){var t=this;this.ntService=new window.NetworkTables("ws://pi-frc-9036.local:5802/networktables/ws"),this._globalListener=s.Observable.fromEventPattern(function(e){return t.ntService.addGlobalListener(e,!0)},function(e){return t.ntService.removeGlobalListener(e)}),this._wsListener=s.Observable.fromEventPattern(function(e){return t.ntService.addWsConnectionListener(e,!0)},function(e){return t.ntService.removeWsConnectionListener(e)}),this._robotListener=s.Observable.fromEventPattern(function(e){return t.ntService.addRobotConnectionListener(e,!0)},function(e){return t.ntService.removeRobotConnectionListener(e)})}return t.getInstance=function(){return null===t.instance&&(t.instance=new t),t.instance},t.prototype.getValue=function(t,e){return this.ntService.getValue(t,e)},t.prototype.putValue=function(t,e){return this.ntService.putValue(t,e)},Object.defineProperty(t.prototype,"globalListener",{get:function(){return this._globalListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wsListener",{get:function(){return this._wsListener},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"robotListener",{get:function(){return this._robotListener},enumerable:!0,configurable:!0}),t.instance=null,t=__decorate([r.Injectable(),__metadata("design:paramtypes",[])],t)}();e.NetworkTablesService=a,e.NETWORKTABLES_SERVICE_PROVIDER=r.provide(a,{useFactory:function(){return a.getInstance()}})},430:function(t,e){t.exports='<div class="conatiner-fluid m-t-2 m-x-1">\r\n  <div class="row">\r\n    <div class="col-md-6">\r\n      <div class="card st-card-status">\r\n        <div class="card-header">\r\n          摄像头\r\n        </div>\r\n        <img class="st-camera" src="/stream.mjpg">\r\n        <div class="card-block">\r\n          <div class="btn-group">\r\n            <button type="button" class="btn btn-outline-primary">切换到前部</button>\r\n            <button type="button" class="btn btn-outline-primary">切换到后部</button>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer bg-success">\r\n          已连接 - 前部\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="col-md-6">\r\n      <div class="card st-card-status">\r\n        <div class="card-header">\r\n          视觉处理中心 (前部)\r\n        </div>\r\n        <ul class="list-group list-group-flush">\r\n          <li class="list-group-item"\r\n              [ngClass]="{\'bg-success\': status.status == 0, \'bg-warning\': status.status == 2, \'bg-info\': status.status == 1}"\r\n              *ngFor="let status of statuses">\r\n            <i class="fa fa-check fa-fw" *ngIf="status.status == 0"></i>\r\n            <i class="fa fa-circle-o-notch fa-spin fa-fw" *ngIf="status.status == 1"></i>\r\n            <i class="fa fa-exclamation fa-fw" *ngIf="status.status == 2"></i>\r\n            <span>{{ status.title }}</span>\r\n            <strong>{{ status.info }}</strong>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},431:function(t,e){t.exports=".st-camera{width:100%;height:auto}.st-card-status .list-group-item{border-bottom-width:0 !important;border-top-width:0 !important}\n"}});
//# sourceMappingURL=app.2d4ee2e85f51b643e0f5.js.map